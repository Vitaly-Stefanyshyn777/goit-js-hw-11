{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\n\nexport function searchImagesPixaby(query) {\n  const URL = 'https://pixabay.com/api/';\n  const API_KEY = '45109890-d15cee52eedc615dd4ac8bedf';\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${URL}?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(console.log);\n}\n","'use strict';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst cardBox = document.querySelector('.card-container');\nconst loader = document.querySelector('.js-loader');\ncardBox.addEventListener('click', event => event.preventDefault());\n\nexport function showLoader() {\n  loader.style.display = 'inline-block';\n}\n\nexport function hideLoader() {\n  loader.style.display = 'none';\n}\n\nexport function renderSearcCard(data) {\n  let addCards = ``;\n  const createCardCode = data\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        addCards += `<li class=\"list-group-item\"><div class=\"search-card\">\n   <div class=\"card-img-box\">\n     <a clas=\"card-link\" href=\"${largeImageURL}\"><img class=\"card-img\" src=\"${webformatURL}\" alt=\"${tags}\"></a>\n   </div>\n   <div class=\"card-box-text\">\n     <p class=\"card-text\">Likes<br><span>${likes}</span></p>\n     <p class=\"card-text\">Views<br><span>${views}</span></p>\n     <p class=\"card-text\">Comments<br><span>${comments}</span></p>\n     <p class=\"card-text\">Downloads<br><span>${downloads}</span></p>\n   </div>\n</div></li>`;\n      }\n    )\n    .join('');\n\n  cardBox.innerHTML = addCards;\n  const gallery = new SimpleLightbox('.card-container a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    overlayOpacity: 0.9,\n  });\n  gallery.refresh();\n}\n","'use strict';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { searchImagesPixaby } from './js/pixabay-api.js';\nimport {\n  renderSearcCard,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\nconst searchForm = document.querySelector('.js-form-container');\nsearchForm.addEventListener('submit', hendleSearch);\n\nfunction hendleSearch(event) {\n  event.preventDefault();\n  showLoader();\n  const form = event.currentTarget;\n  const inputValue = form.elements.search.value.toLowerCase().trim();\n\n  if (!inputValue) {\n    iziToast.error({\n      message: `Please enter the data in the input field`,\n      position: 'topRight',\n      messageColor: '#ffffff',\n      backgroundColor: '#EF4040',\n    });\n    hideLoader();\n    return;\n  }\n\n  searchImagesPixaby(inputValue)\n    .then(data => {\n      if (!data.hits.length) {\n        iziToast.error({\n          message: `Sorry, there are no images matching<br>your search query. Please try again!`,\n          position: 'topRight',\n          messageColor: '#ffffff',\n          backgroundColor: '#EF4040',\n        });\n      }\n      return data;\n    })\n    .then(data => {\n      renderSearcCard(data.hits);\n    })\n    .catch(console.log)\n    .finally(() => {\n      hideLoader();\n      form.reset();\n    });\n}\n"],"names":["searchImagesPixaby","query","URL","API_KEY","params","response","cardBox","loader","event","showLoader","hideLoader","renderSearcCard","data","addCards","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","searchForm","hendleSearch","form","inputValue","iziToast"],"mappings":"6vBAEO,SAASA,EAAmBC,EAAO,CACxC,MAAMC,EAAM,2BACNC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAG,IAAIE,CAAM,EAAE,EAC5B,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAM,QAAQ,GAAG,CACtB,CCnBA,MAAMC,EAAU,SAAS,cAAc,iBAAiB,EAClDC,EAAS,SAAS,cAAc,YAAY,EAClDD,EAAQ,iBAAiB,QAASE,GAASA,EAAM,eAAgB,CAAA,EAE1D,SAASC,GAAa,CAC3BF,EAAO,MAAM,QAAU,cACzB,CAEO,SAASG,GAAa,CAC3BH,EAAO,MAAM,QAAU,MACzB,CAEO,SAASI,EAAgBC,EAAM,CACpC,IAAIC,EAAW,GACQD,EACpB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY,CACJP,GAAY;AAAA;AAAA,iCAEaE,CAAa,gCAAgCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,2CAG7DC,CAAK;AAAA,2CACLC,CAAK;AAAA,8CACFC,CAAQ;AAAA,+CACPC,CAAS;AAAA;AAAA,YAGjD,CACF,EACA,KAAK,EAAE,EAEVd,EAAQ,UAAYO,EACJ,IAAIQ,EAAe,oBAAqB,CACtD,aAAc,MACd,aAAc,IACd,eAAgB,EACpB,CAAG,EACO,QAAO,CACjB,CCvCA,MAAMC,EAAa,SAAS,cAAc,oBAAoB,EAC9DA,EAAW,iBAAiB,SAAUC,CAAY,EAElD,SAASA,EAAaf,EAAO,CAC3BA,EAAM,eAAc,EACpBC,IACA,MAAMe,EAAOhB,EAAM,cACbiB,EAAaD,EAAK,SAAS,OAAO,MAAM,YAAW,EAAG,OAE5D,GAAI,CAACC,EAAY,CACfC,EAAS,MAAM,CACb,QAAS,2CACT,SAAU,WACV,aAAc,UACd,gBAAiB,SACvB,CAAK,EACDhB,IACA,MACD,CAEDV,EAAmByB,CAAU,EAC1B,KAAKb,IACCA,EAAK,KAAK,QACbc,EAAS,MAAM,CACb,QAAS,8EACT,SAAU,WACV,aAAc,UACd,gBAAiB,SAC3B,CAAS,EAEId,EACR,EACA,KAAKA,GAAQ,CACZD,EAAgBC,EAAK,IAAI,CAC/B,CAAK,EACA,MAAM,QAAQ,GAAG,EACjB,QAAQ,IAAM,CACbF,IACAc,EAAK,MAAK,CAChB,CAAK,CACL"}